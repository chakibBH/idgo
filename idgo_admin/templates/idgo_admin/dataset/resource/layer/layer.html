{% extends "idgo_admin/base.html" %}

{% load static %}

{% block breadcrumb_content %}
<ol class="breadcrumb">
	<li><span class="glyphicon glyphicon-home"></span></li>
	<li >{% if all %}Tous les{% else %}Mes{% endif %} jeux de données</li>
	<li>
		<a href="{% url "idgo_admin:dataset" %}?id={{ dataset.id }}#dataset/{{ dataset.id }}">{{ dataset.name }}</a>
	</li>
	<li>
		<a href="{% url "idgo_admin:dataset" %}?id={{ dataset.id }}#resources/{{ resource.id }}">ressources</a>
	</li>
	<li>
		<a href="{% url "idgo_admin:resource" dataset_id=dataset.id %}?id={{ resource.id }}">{{ resource.name_overflow }}</a>
	</li>
	<li>
		<a href="{% url "idgo_admin:dataset" %}?id={{ dataset.id }}#owslayers/{{ layer.id }}">Ressources géographiques</a>
	</li>
	<li class="active">
		<a href="{% url "idgo_admin:layer" dataset_id=dataset.id resource_id=resource.id layer_id=layer.id%}">{{ layer.title }}</a>
	</li>
</ol>
{% endblock breadcrumb_content %}
{% block main_content %}
{% include "idgo_admin/alert_messages.html" %}
<div id="layer-container">
	{% if resource.extractable %}
	<div class="floating-buttons-on-the-right-side">
		<a href="{% url "idgo_admin:extractor" %}?layer={{ layer.id }}" name="extractor" type="button" class="btn btn-secondary">Service d'extraction</a>
	</div>
	{% endif %}
	<ul class="nav nav-tabs" role="tablist">
		<li role="presentation" class="active">
			<a href="#configuration" aria-controls="configuration" role="tab" data-toggle="tab">Configuration générale de la couche de données</a>
		</li>
		<li role="presentation">
			<a href="#styles" aria-controls="styles" role="tab" data-toggle="tab">Gestion des styles</a>
		</li>
		<li role="presentation">
			<a href="#editor" aria-controls="editor" role="tab" data-toggle="tab">Editeur de style</a>
		</li>
	</ul>
	<div class="tab-content well">
		<div role="tabpanel" class="tab-pane active" id="configuration">
			<div class="tab-pane-content">
				{% include "idgo_admin/dataset/resource/layer/configuration.html" %}
			</div>
		</div>
		<div role="tabpanel" class="tab-pane" id="styles">
			<div class="tab-pane-content">
				{% include "idgo_admin/dataset/resource/layer/styles_manager.html" %}
			</div>
		</div>
		<div role="tabpanel" class="tab-pane" id="editor">
			<div class="tab-pane-content">
				{% include "idgo_admin/dataset/resource/layer/style_editor.html" %}
			</div>
		</div>
	</div>
</div>
{% endblock main_content %}
